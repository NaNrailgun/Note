项目

1. 雪花算法？会出现什么问题？

答曰：冬令时时钟回拨，依赖机器时钟

追问：世界各地都有机器怎么办？

答曰：全球统一时间？时间戳？（卒）

1. 分布式事务优缺点？

基础

1. hashmap和treemap的应用场景？

（脑抽+菜）答曰：treemap支持范围查询（卒）

1. Java基本数据类型和包装类的区别？
2. 多线程的优缺点？
3. 多线程的应用场景？
4. 线程越多越好吗？会有什么问题？
5. 怎么设置线程池最优线程数？最优的线程数？

答曰：cpu核心数 * 2

追问：为什么不能是乘以3乘以4？

答曰：...（卒）

1. 发生内存溢出的地方？
2. 怎么让本地内存溢出？具体怎么实现？
3. 反问

****

## TreeMap 的应用场景

treemap适用于对key的顺序有需求的场景。遍历的话从小到大遍历。

## 多线程的优缺点？

优点：能适当提高程序的执行效率，缩短程序的响应时间。

能适当的提高cpu资源的利用率。

缺点：过多线程会占用大量的内存空间。

如果线程数过多的话，会导致线程切换的成本很高。

会使程序的设计更加复杂，要考虑线程共享变量的线程安全问题。

## 多线程的使用场景

1. tomcat容器，每当一个请求到达的时候，都会将这个请求交给一个线程，然后去执行对应的servlet。
2. 多线程下载文件。
3. 后台任务，定时发送邮件。
4. 生产者消费者模型。
5. 处理大批量的数据，可以把数据进行分割，然后交给不同的线程执行，最后将结果聚合。

## 线程数是不是越多越好？

不是，线程的切换时存在开销的，线程越多，线程切换的成本越高。

## 线程数和cpu数之间的关系？

对于CPU密集型计算任务，线程数 = CPU核心数 + 1

对于I/O密集型计算任务，线程数 = 2 * CPU核心数

对于普通任务，线程数 = N（CPU核心数） * （1 + WT（线程等待时间） /  ST（线程时间运行时间））

